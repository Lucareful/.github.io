<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Linux学习（一） | Luenci</title>
<meta name="keywords" content="Linux知识">
<meta name="description" content="Linux操作系统

&ldquo;一切皆文件&rdquo;

系统启动流程
引导图




最初始阶段
当我们打开计算机电源，计算机会自动从主板的BlOS（Basic Input/output System）读取其中所存储的程序。这一程序通常知道一些直接连接在主板上的硬件（硬盘，网络接口，键盘，串口，并口）。现在大部分的BIOS允许你从软盘、光盘或者硬盘中选择一个来启动计算机。


下一步，计算机将从你所选择的存储设备中读取起始的512 bytes（比如光盘一开是的512 bytes，如果我们从光盘启动的话）。这512bytes叫做主引导记录MBR（master boot record）。MBR会告诉电脑从该设备的某一个分区（partition）来装载引导加载程序（boot loader）。Boot loader储存有操作系统（OS）的相关信息，比如操作系统名称，操作系统内核（kernel）所在位置等。常用的boot loader有GRUB和LILO。


随后，boot loader会帮助我们加载kernel。kernel实际上是一个用来操作计算机的程序，它是计算机操作系统的内核，主要的任务是管理计算机的硬件资源，充当软件和硬件的接口。操作系统上的任何操作都要通过kernel传达给硬件。Windows和Linux各自有自己kernel。


狭义的操作系统就是指kernel，广义的操作系统包括kernel以及kernel之上的各种应用。


（Linus Torvalds与其说是Linux之父，不如说是Linux kernel之父。他依然负责Linux kernel的开发和维护。至于Ubuntu，Red Hat，它们都是基于相同的kernel之上，囊括了不同的应用和界面构成的一个更加完整的操作系统版本。）实际上，我们可以在多个分区安装boot loader，每个boot loader对应不同的操作系统，在读取MBR的时候选择我们想要启动的boot loader。这就是多操作系统的原理。


小结：BlOS -&gt; MBR -&gt; boot loader -&gt; kernel


kernel

如果我们加载的是Linux kernel，Linux kernel开始工作。kernel会首先预留自己运行所需的内存空间，然后通过驱动程序（driver）检测计算机硬件。这样，操作系统就可以知道自己有哪些硬件可用。随后，kernel会启动一个init进程。它是Linux系统中的1号进程（Linux系统没有0号进程）。到此，kernel就完成了在计算机启动阶段的工作，交接给init来管理。
小结：kernel -&gt; init process 



init process
（根据boot loader的选项，Linux此时可以进入单用户模式（single user mode））。在此模式下，初始脚本还没有开始执行，我们可以检测并修复计算机可能存在的错误）随后，init会运行一系列的初始脚本（startup scripts），这些脚本是Linux中常见的shell scripts。这些脚本执行如下功能：

设置计算机名称，时区，检测文件系统，挂载硬盘，清空临时文件，设置网络等

当这些初始脚本，操作系统已经完全准备好了，只是，还没有人可以登录！！！init会给出登录（login）对话框，或者是图形化的登录界面。


输入用户名（比如说luenci）和密码，DONE！


在此后的过程中，你将以用户（user）luenci的身份操作电脑。此外，根据你创建用户时的设定，Linux还会将你归到某个组（group）中，比如可以是stupid组，或者是luenci组。所以你将是用户luenci，同时是luenci组的组员。（注意，组luenci和用户luenci只是重名而已，就好想你可以叫Dell，同时还是Dell公司的老板一样。你完全也可以是用户luenci，同时为stupid组的组员）


启动级别


7种运行级别
运行级别（Runlevel）指的是Unix或者Linux等类Unix操作系统的运行模式，不同的运行模式下系统的功能也有所有不同。Linux 系统下通常分为7种运行级别，分别是从0到6。各级别介绍如下：


0&ndash;停机模式

在这种模式下，系统处于停机状态，系统默认运行级别不能设为0，否则将不能正常启动。这个运行级别主要用于关闭任务，在/etc/rc0.d目录下的各个连接命令都是此级别的命令，在关闭系统时，这些命令将被逐个执行。它 们会杀掉所有进程、关闭虚拟内存和交换文件、卸载文件系统和交换分区。



1&ndash; 单用户模式。

在这种运行模下，系统处于单用户工作状态，登录用户具有root权限，文件系统被加载但是网络却没有被加载，因此也无法远程登陆。这个运行级别，只允一个用户从本地计算机上登录，/etc/rc1.d目录下的所有文件与此运行级别相关连，这个运行级别一般用于系统管理与维护。



2 - -多用户模式。

用户可以通过网络进行登录，但没有NFS（Network File System），即网络文件统。/etc/rc2.d目录下所有文件与此级别相连。



3 - -完全多用户模式。


用户可以通过网络进行登录，且有NFS，用户登陆后会进入控制台命令行模式。这也是缺省的运行模式，在这种运行级别下所有网络服务程序会一起运行。/etc/rc2.d录下的文件与此级别相连


4 - -自定义模式。

这是一种系统未使用的保留模式，/etc/rc4.d目录与此级别相连。这一级别是用户自定义的运行级别，用户可以根自己的需要进行一些自定义设置。如果想要运行这一级别的话，必须在rc3.d目录下放入连接文件，就像其他rc*.d目录下的文件，并指明是启动还是终止进程。



5 - -图形化模式。

在 Linux 下运行X Window就是使用这一运行级别，用户登录后将进入图形化的GUI界面。在这一级别下除了DNS的named与级别3不同，其余的都相同。



6 &ndash; 重启模式。

系统正常关闭并重启，默认运行级别不能设为5，否则系统将不能正常启动。/etc/rc6.d目录与此级别相连。在这一运行级别下，不会关闭电源，/etc/rc6.d目录下的连接与rc0.d目录下的连接基本相同；不同之处在于，虽然它们都执行halt（关闭）命令，但是给halt传递的参数不同，所级别6会重新启动系统而0会关闭系统。


">
<meta name="author" content="Luenci">
<link rel="canonical" href="http://localhost:1313/articles/1/01/linux%E5%AD%A6%E4%B9%A0%E4%B8%80/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.54405a410796490bc874ab6181fac9b675753cc2b91375d8f882566459eca428.css" integrity="sha256-VEBaQQeWSQvIdKthgfrJtnV1PMK5E3XY&#43;IJWZFnspCg=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/articles/1/01/linux%E5%AD%A6%E4%B9%A0%E4%B8%80/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Luenci (Alt + H)">Luenci</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/categories" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/index.xml" title="RSS Feed">
                    <span>RSS Feed</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Linux学习（一）
    </h1>
    <div class="post-meta">Luenci

</div>
  </header> 
  <div class="post-content"><h1 id="linux操作系统">Linux操作系统<a hidden class="anchor" aria-hidden="true" href="#linux操作系统">#</a></h1>
<ul>
<li>&ldquo;一切皆文件&rdquo;</li>
</ul>
<h2 id="系统启动流程">系统启动流程<a hidden class="anchor" aria-hidden="true" href="#系统启动流程">#</a></h2>
<p>引导图</p>
<p><img loading="lazy" src="https://raw.githubusercontent.com/Lucareful/ImgRepo/master/img/hexo_img/image-20200502160423268.png" alt="引导图"  />
</p>
<ul>
<li>
<p>最初始阶段
当我们打开计算机电源，计算机会自动从主板的<code>BlOS</code>（Basic Input/output System）读取其中所存储的程序。这一程序通常知道一些直接连接在主板上的硬件（硬盘，网络接口，键盘，串口，并口）。现在大部分的BIOS允许你从软盘、光盘或者硬盘中选择一个来启动计算机。</p>
</li>
<li>
<p>下一步，计算机将从你所选择的存储设备中读取起始的512 bytes（比如光盘一开是的512 bytes，如果我们从光盘启动的话）。这<code>512bytes</code>叫做主引导记录<code>MBR</code>（master boot record）。<code>MBR</code>会告诉电脑从该设备的某一个分区（partition）来装载引导加载程序（boot loader）。<code>Boot loader</code>储存有操作系统（OS）的相关信息，比如操作系统名称，操作系统内核（kernel）所在位置等。常用的<code>boot loader</code>有<code>GRUB</code>和<code>LILO</code>。</p>
</li>
<li>
<p>随后，<code>boot loade</code>r会帮助我们加载<code>kernel</code>。<code>kernel</code>实际上是一个用来操作计算机的程序，它是计算机操作系统的内核，主要的任务是管理计算机的硬件资源，充当软件和硬件的接口。操作系统上的任何操作都要通过<code>kernel</code>传达给硬件。<code>Windows</code>和<code>Linux</code>各自有自己<code>kernel</code>。</p>
</li>
<li>
<p>狭义的操作系统就是指<code>kernel</code>，广义的操作系统包括<code>kernel</code>以及<code>kernel</code>之上的各种应用。</p>
</li>
<li>
<p>（Linus Torvalds与其说是Linux之父，不如说是<code>Linux kernel</code>之父。他依然负责<code>Linux kernel</code>的开发和维护。至于<code>Ubuntu</code>，<code>Red Hat</code>，它们都是基于相同的<code>kernel</code>之上，囊括了不同的应用和界面构成的一个更加完整的操作系统版本。）实际上，我们可以在多个分区安装<code>boot loader</code>，每个<code>boot loader</code>对应不同的操作系统，在读取<code>MBR</code>的时候选择我们想要启动的boot loader。这就是多操作系统的原理。</p>
</li>
<li>
<p>小结：<code>BlOS -&gt; MBR -&gt; boot loader -&gt; kernel</code></p>
</li>
<li>
<p>kernel</p>
<ul>
<li>如果我们加载的是Linux kernel，Linux kernel开始工作。kernel会首先预留自己运行所需的内存空间，然后通过驱动程序（driver）检测计算机硬件。这样，操作系统就可以知道自己有哪些硬件可用。随后，kernel会启动一个init进程。它是Linux系统中的1号进程（Linux系统没有0号进程）。到此，kernel就完成了在计算机启动阶段的工作，交接给init来管理。</li>
<li>小结：<code>kernel -&gt; init process </code></li>
</ul>
</li>
<li>
<p><code>init process</code></p>
<p>（根据boot loader的选项，Linux此时可以进入单用户模式（single user mode））。在此模式下，初始脚本还没有开始执行，我们可以检测并修复计算机可能存在的错误）随后，init会运行一系列的初始脚本（startup scripts），这些脚本是Linux中常见的shell scripts。这些脚本执行如下功能：</p>
<ul>
<li>设置计算机名称，时区，检测文件系统，挂载硬盘，清空临时文件，设置网络等</li>
</ul>
<p>当这些初始脚本，操作系统已经完全准备好了，只是，还没有人可以登录！！！init会给出登录（login）对话框，或者是图形化的登录界面。</p>
</li>
<li>
<p>输入用户名（比如说luenci）和密码，DONE！</p>
</li>
<li>
<p>在此后的过程中，你将以用户（user）luenci的身份操作电脑。此外，根据你创建用户时的设定，Linux还会将你归到某个组（group）中，比如可以是stupid组，或者是luenci组。所以你将是用户luenci，同时是luenci组的组员。（注意，组luenci和用户luenci只是重名而已，就好想你可以叫Dell，同时还是Dell公司的老板一样。你完全也可以是用户luenci，同时为stupid组的组员）</p>
</li>
</ul>
<h3 id="启动级别">启动级别<a hidden class="anchor" aria-hidden="true" href="#启动级别">#</a></h3>
<ul>
<li>
<p>7种运行级别</p>
<p>运行级别（<code>Runlevel</code>）指的是Unix或者Linux等类Unix操作系统的运行模式，不同的运行模式下系统的功能也有所有不同。Linux 系统下通常分为<code>7</code>种运行级别，分别是从<code>0</code>到<code>6</code>。各级别介绍如下：</p>
</li>
<li>
<p><code>0</code>&ndash;停机模式</p>
<ul>
<li>在这种模式下，系统处于停机状态，系统默认运行级别不能设为<code>0</code>，否则将不能正常启动。这个运行级别主要用于关闭任务，在<code>/etc/rc0.d</code>目录下的各个连接命令都是此级别的命令，在关闭系统时，这些命令将被逐个执行。它 们会杀掉所有进程、关闭虚拟内存和交换文件、卸载文件系统和交换分区。</li>
</ul>
</li>
<li>
<p><code>1</code>&ndash; 单用户模式。</p>
<ul>
<li>在这种运行模下，系统处于单用户工作状态，登录用户具有root权限，文件系统被加载但是网络却没有被加载，因此也无法远程登陆。这个运行级别，只允一个用户从本地计算机上登录，<code>/etc/rc1.d</code>目录下的所有文件与此运行级别相关连，这个运行级别一般用于系统管理与维护。</li>
</ul>
</li>
<li>
<p><code>2</code> - -多用户模式。</p>
<ul>
<li>用户可以通过网络进行登录，但没有<code>NFS</code>（Network File System），即网络文件统。<code>/etc/rc2.d</code>目录下所有文件与此级别相连。</li>
</ul>
</li>
<li>
<p><code>3</code> - -完全多用户模式。</p>
</li>
<li>
<p>用户可以通过网络进行登录，且有<code>NFS</code>，用户登陆后会进入控制台命令行模式。这也是缺省的运行模式，在这种运行级别下所有网络服务程序会一起运行。<code>/etc/rc2.d</code>录下的文件与此级别相连</p>
</li>
<li>
<p><code>4</code> - -自定义模式。</p>
<ul>
<li>这是一种系统未使用的保留模式，<code>/etc/rc4.d</code>目录与此级别相连。这一级别是用户自定义的运行级别，用户可以根自己的需要进行一些自定义设置。如果想要运行这一级别的话，必须在<code>rc3.d</code>目录下放入连接文件，就像其他<code>rc*.d</code>目录下的文件，并指明是启动还是终止进程。</li>
</ul>
</li>
<li>
<p><code>5</code> - -图形化模式。</p>
<ul>
<li>在 Linux 下运行<code>X Window</code>就是使用这一运行级别，用户登录后将进入图形化的GUI界面。在这一级别下除了DNS的<code>named</code>与级别<code>3</code>不同，其余的都相同。</li>
</ul>
</li>
<li>
<p><code>6</code> &ndash; 重启模式。</p>
<ul>
<li>系统正常关闭并重启，默认运行级别不能设为<code>5</code>，否则系统将不能正常启动。<code>/etc/rc6.d</code>目录与此级别相连。在这一运行级别下，不会关闭电源，<code>/etc/rc6.d</code>目录下的连接与<code>rc0.d</code>目录下的连接基本相同；不同之处在于，虽然它们都执行<code>halt</code>（关闭）命令，但是给<code>halt</code>传递的参数不同，所级别<code>6</code>会重新启动系统而<code>0</code>会关闭系统。</li>
</ul>
</li>
</ul>
<h3 id="grub加密">GRUB加密<a hidden class="anchor" aria-hidden="true" href="#grub加密">#</a></h3>
<ul>
<li><code>GRUB</code>程序和<code>grub.conf</code>文件</li>
<li>1）掌握GRUB的定义：<code>GRUB</code>是<code>Grand Unified Boot loader</code>（多重操作系统启动管理器）的缩写。
心</li>
<li>2）掌握grub的配置文件为：<code>grub.conf</code>设置<code>grub Md5</code>加密命令<code>grub-md5-crypt </code>
<ul>
<li><code>Password=明文</code>或<code>password-md5密文</code>（编辑grub配置文件的密码）</li>
</ul>
</li>
<li>Title red hat 标题
<ul>
<li><code>Password=明文或password--md5密文</code>（加载内核系统引导必须的密码）</li>
</ul>
</li>
</ul>
<p><img loading="lazy" src="https://raw.githubusercontent.com/Lucareful/ImgRepo/master/img/hexo_img/image-20200502155136848.png" alt="grub配置"  />
</p>
<h3 id="bios加密">BIOS加密<a hidden class="anchor" aria-hidden="true" href="#bios加密">#</a></h3>
<ul>
<li>设置BIOS密码来防止更改GRU配置文件</li>
<li>但是这种方法可将主板电池扣下，主板自动还原，密码也失效了</li>
</ul>
<p><em><code>没有绝对的安全，要不停的学习</code></em></p>
<h2 id="目录结构">目录结构<a hidden class="anchor" aria-hidden="true" href="#目录结构">#</a></h2>
<ul>
<li>在Linux或UNIX操作系统中，所有的文件和目录都被组织成一个以根节点开始的倒置的<em><strong>树状结构</strong></em>。</li>
</ul>
<h3 id="顶层根目录的表示">顶层根目录的表示<a hidden class="anchor" aria-hidden="true" href="#顶层根目录的表示">#</a></h3>
<ul>
<li>使用<code>'/'</code>来表示根目录</li>
</ul>
<h3 id="文件系统中的特殊目录">文件系统中的特殊目录<a hidden class="anchor" aria-hidden="true" href="#文件系统中的特殊目录">#</a></h3>
<ul>
<li><code>.</code>表示当前目录，即用户所在的工作目录</li>
<li><code>..</code>表示父目录，即当前目录的上一层目录</li>
<li><code>~</code>代表当前用户的家目录（home）</li>
</ul>
<!-- raw HTML omitted -->
<h3 id="一些重要目录">一些重要目录<a hidden class="anchor" aria-hidden="true" href="#一些重要目录">#</a></h3>
<ol>
<li><code>bin</code>目录：用来存放常用的可执行文件</li>
<li><code>sbin</code>目录：用来存放系统的可执行文件</li>
<li><code>home</code>家目录：用来存放用户自己的文件或目录，其中，超级用户<code>root</code>的家目普通用户的家目录被存放在<code>/home</code>目录下，并使用用户名作为最后一级目的名称，如<code>luenci</code>用户的家目录为<code>/home/luenci</code></li>
<li><code>dev</code>目录：设备文件目录</li>
<li><code>etc</code>目录：配置文件目录</li>
<li>挂载点（目录）：通常可移除式硬件会被挂载在<code>/media</code>或<code>/mnt</code>目录之下</li>
</ol>
<h2 id="用户群组权限管理">用户，群组，权限管理<a hidden class="anchor" aria-hidden="true" href="#用户群组权限管理">#</a></h2>
<ul>
<li><code>/etc/passed</code>文件中存放用户的信息</li>
<li>分别对应的是：<code>用户名：密码：user_id：group_id：描述名：家目录（home）：登录后执行的命令</code></li>
</ul>
<p><img loading="lazy" src="https://raw.githubusercontent.com/Lucareful/ImgRepo/master/img/hexo_img/image-20200501204906550.png" alt="1"  />
</p>
<ul>
<li>如果执行的登录命令为：<code>/bin/bash</code>则可以登录</li>
<li>如果执行的登录命令为：<code>/sbin/nologin</code>则不可以登录</li>
<li><code>user_id</code>: 500以前id号为系统占用的</li>
</ul>
<h3 id="useradd命令的常用选项">useradd命令的常用选项<a hidden class="anchor" aria-hidden="true" href="#useradd命令的常用选项">#</a></h3>
<ul>
<li><code>-u</code>：指定用户的UID</li>
<li><code>-g</code>：指定用户所属的群组</li>
<li><code>-d</code>：指定用户的家目录</li>
<li><code>-c</code>：指定用户的备注信息</li>
<li><code>-s</code>：指定用户所用的shell</li>
<li><code>-r</code>: 删除用户</li>
</ul>
<h2 id="文件的权限管理">文件的权限管理<a hidden class="anchor" aria-hidden="true" href="#文件的权限管理">#</a></h2>
<ul>
<li>权限信息(用户权限(u);组权限(g);其他用户权限(0))；硬链接数；用户；用户组；文件大小；文件创建日期</li>
<li>r-&gt;4</li>
<li>w-&gt;2</li>
<li>x-&gt;1</li>
</ul>
<p><img loading="lazy" src="https://raw.githubusercontent.com/Lucareful/ImgRepo/master/img/hexo_img/image-20200501215623758.png" alt="2"  />
</p>
<ul>
<li>
<p><code>-</code>开头代表一个文件类型</p>
</li>
<li>
<p><code>d</code>开头代表一个目录类型</p>
</li>
<li>
<p><code>l</code>开头代表一个软链接</p>
</li>
<li>
<p><code>b（block）</code>开头代表设备文件</p>
</li>
<li>
<p><code>p</code>开头有代表管道文件</p>
</li>
</ul>
<h3 id="对于可执行文件的运行">对于可执行文件的运行<a hidden class="anchor" aria-hidden="true" href="#对于可执行文件的运行">#</a></h3>
<ul>
<li><code>sh 可执行文件名</code></li>
<li><code>bash 可执行文件名</code></li>
<li><code>./可执行文件名</code></li>
<li><code>. 可执行文件名</code></li>
</ul>
<h2 id="目录的权限管理">目录的权限管理<a hidden class="anchor" aria-hidden="true" href="#目录的权限管理">#</a></h2>
<ul>
<li><code>ll -d 目录</code>查看目录的权限</li>
<li><img loading="lazy" src="https://raw.githubusercontent.com/Lucareful/ImgRepo/master/img/hexo_img/image-20200502123137125.png" alt="3"  />
</li>
</ul>
<h2 id="更改文件的用户和组">更改文件的用户和组<a hidden class="anchor" aria-hidden="true" href="#更改文件的用户和组">#</a></h2>
<ul>
<li><code>chown  用户.组别  文件名</code></li>
<li><code>chown -R</code>递归修改用户和组</li>
</ul>
<p><img loading="lazy" src="https://raw.githubusercontent.com/Lucareful/ImgRepo/master/img/hexo_img/image-20200502123543551.png" alt="4"  />
</p>
<h2 id="文件合并">文件合并<a hidden class="anchor" aria-hidden="true" href="#文件合并">#</a></h2>
<ul>
<li>
<p><code>wc -l 文件名</code>统计文件行数</p>
</li>
<li>
<p><code>&gt;</code>以覆盖的方式写入内容</p>
</li>
<li>
<p><code>&gt;&gt;</code>以追加的方式写入内容</p>
</li>
</ul>
<p><img loading="lazy" src="https://raw.githubusercontent.com/Lucareful/ImgRepo/master/img/hexo_img/image-20200502132024461.png" alt=""  />
</p>
<h2 id="解压和压缩命令">解压和压缩命令<a hidden class="anchor" aria-hidden="true" href="#解压和压缩命令">#</a></h2>
<p>1、.<code>tar </code></p>
<p>解包：<code>tar xvf FileName.tar</code>
打包：<code>tar cvf FileName.tar DirName</code>
（注：tar是打包，不是压缩！）</p>
<p>2、<code>.gz</code></p>
<p>解压1：<code>gunzip FileName.gz</code>
解压2：<code>gzip -d FileName.gz</code>
压缩：<code>gzip FileName</code></p>
<p>3、<code>.tar.gz</code> 和<code> .tgz</code></p>
<p>解压：<code>tar zxvf FileName.tar.gz</code>
压缩：<code>tar zcvf FileName.tar.gz DirName</code></p>
<p>4、<code>.bz2</code></p>
<p>解压1：<code>bzip2 -d FileName.bz2</code>
解压2：<code>bunzip2 FileName.bz2</code>
压缩：<code> bzip2 -z FileName</code></p>
<p>5、<code>.tar.bz2</code></p>
<p>解压：<code>tar jxvf FileName.tar.bz2</code>
压缩：<code>tar jcvf FileName.tar.bz2 DirName</code></p>
<p>6、<code>.bz</code></p>
<p>解压1：<code>bzip2 -d FileName.bz</code>
解压2：<code>bunzip2 FileName.bz</code></p>
<p>7、<code>.tar.bz</code></p>
<p>解压：<code>tar jxvf FileName.tar.bz</code></p>
<p>8、.Z</p>
<p>解压：<code>uncompress FileName.Z</code>
压缩：<code>compress FileName</code></p>
<p>9、<code>.tar.Z</code></p>
<p>解压：<code>tar Zxvf FileName.tar.Z</code>
压缩：<code>tar Zcvf FileName.tar.Z DirName</code></p>
<p>10、<code>.zip</code></p>
<p>解压：<code>unzip FileName.zip</code>
压缩：<code>zip FileName.zip DirName</code></p>
<p>11、<code>.rar</code></p>
<p>解压：<code>rar x FileName.rar</code>
压缩：<code>rar a FileName.rar DirName</code></p>
<p>12、<code>.lha</code></p>
<p>解压：<code>lha -e FileName.lha</code>
压缩：<code>lha -a FileName.lha FileName</code></p>
<p>13、<code>.rpm</code></p>
<p>解包：<code>rpm2cpio FileName.rpm | cpio -div</code></p>
<h2 id="vim一些常见指令">vim一些常见指令<a hidden class="anchor" aria-hidden="true" href="#vim一些常见指令">#</a></h2>
<ul>
<li>
<p>快速在屏幕中移动光标的位置的命令</p>
<ul>
<li><code>H</code>光标移动到这个屏幕的最上方那一行的第一个字符</li>
<li><code>M</code>无标移动到这个屏幕的中央那一行的第一个字符</li>
<li><code>L</code>无标移动到这个屏幕的最下那一行的第一个字符</li>
</ul>
</li>
<li>
<p><code>G</code>移动到文件的最后一行</p>
</li>
<li>
<p><code>gg</code>移动到文件的第一行</p>
</li>
<li>
<p><code>ctrl+ r</code>恢复上一次操作</p>
</li>
<li>
<p><code>u</code>撤销上一个操作</p>
</li>
<li>
<p><code>ctrl+a</code>跳到文件的首部</p>
</li>
<li>
<p><code>ctrl+e</code>跳到文件的尾部</p>
</li>
<li>
<p><code>yy</code>复制</p>
</li>
<li>
<p><code>p</code>粘贴到行尾</p>
</li>
<li>
<p><code>P</code>站贴到行头</p>
</li>
</ul>
<h2 id="weight命令">weight命令<a hidden class="anchor" aria-hidden="true" href="#weight命令">#</a></h2>
<p><img loading="lazy" src="https://raw.githubusercontent.com/Lucareful/ImgRepo/master/img/hexo_img/image-20200502170646416.png" alt=""  />
</p>
<h3 id="第一行">第一行<a hidden class="anchor" aria-hidden="true" href="#第一行">#</a></h3>
<table>
<thead>
<tr>
<th style="text-align:center">字符</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">weight - 10:03:19</td>
<td style="text-align:center">当前系统时间</td>
</tr>
<tr>
<td style="text-align:center">up 137 days , 10:40</td>
<td style="text-align:center">系统已运行时间</td>
</tr>
<tr>
<td style="text-align:center">2 user</td>
<td style="text-align:center">在线用户</td>
</tr>
<tr>
<td style="text-align:center">load average: 0.00, 0.01, 0.05</td>
<td style="text-align:center">系统负载。三个数值分别为  1分钟、5分钟、15分钟前到现在的平均值。</td>
</tr>
</tbody>
</table>
<blockquote>
<p>2 user，包含系统用户。</p>
</blockquote>
<hr>
<h3 id="第二行">第二行<a hidden class="anchor" aria-hidden="true" href="#第二行">#</a></h3>
<table>
<thead>
<tr>
<th style="text-align:center">字符</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Tasks : 92 total</td>
<td style="text-align:center">总进程数</td>
</tr>
<tr>
<td style="text-align:center">2 running</td>
<td style="text-align:center">正在运行的进程数</td>
</tr>
<tr>
<td style="text-align:center">90 sleeping</td>
<td style="text-align:center">正在睡眠的进程数</td>
</tr>
<tr>
<td style="text-align:center">0 sweightped</td>
<td style="text-align:center">停止的进程数</td>
</tr>
<tr>
<td style="text-align:center">0 zombie</td>
<td style="text-align:center">僵尸进程数</td>
</tr>
</tbody>
</table>
<blockquote>
<p>僵尸进程:一个子进程在其父进程没有调用wait()或waitpid()的情况下退出。这个子进程就是僵尸进程。如果其父进程还存在而一直不调用wait，则该僵尸进程将无法回收，等到其父进程退出后该进程将被init回收。</p>
</blockquote>
<hr>
<h3 id="第三行">第三行<a hidden class="anchor" aria-hidden="true" href="#第三行">#</a></h3>
<table>
<thead>
<tr>
<th style="text-align:center">字符</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">%Cpu(s): 0.3 us</td>
<td style="text-align:center">cpu占用率(%)，用户进程占用cpu百分率</td>
</tr>
<tr>
<td style="text-align:center">0.3 sy</td>
<td style="text-align:center">系统占用cpu百分率</td>
</tr>
<tr>
<td style="text-align:center">0.0 ni</td>
<td style="text-align:center">用户进程空间内改变过优先级的进程占用CPU百分比</td>
</tr>
<tr>
<td style="text-align:center">99.3 id</td>
<td style="text-align:center">cpu空闲率</td>
</tr>
<tr>
<td style="text-align:center">0.0 wa</td>
<td style="text-align:center">等待IO的CPU时间百分比</td>
</tr>
<tr>
<td style="text-align:center">0.0 hi</td>
<td style="text-align:center">硬中断（Hardware IRQ）占用CPU的百分比</td>
</tr>
<tr>
<td style="text-align:center">0.0 si</td>
<td style="text-align:center">软中断（Software Interrupts）占用CPU的百分比</td>
</tr>
</tbody>
</table>
<blockquote>
<p>cpu的使用情况</p>
</blockquote>
<hr>
<h3 id="第四行">第四行<a hidden class="anchor" aria-hidden="true" href="#第四行">#</a></h3>
<table>
<thead>
<tr>
<th style="text-align:center">字符</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">KiB Mem : 1016916 total</td>
<td style="text-align:center">内存总量（我这里是1G）</td>
</tr>
<tr>
<td style="text-align:center">82280 free</td>
<td style="text-align:center">内存空闲量</td>
</tr>
<tr>
<td style="text-align:center">233848 used</td>
<td style="text-align:center">内存使用量</td>
</tr>
<tr>
<td style="text-align:center">700788 buff/cache</td>
<td style="text-align:center">缓存的内存量</td>
</tr>
</tbody>
</table>
<blockquote>
<p>内存使用率</p>
</blockquote>
<hr>
<h3 id="第五行">第五行<a hidden class="anchor" aria-hidden="true" href="#第五行">#</a></h3>
<table>
<thead>
<tr>
<th style="text-align:center">字符</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">KiB Swap: 0 total</td>
<td style="text-align:center">交换区总量</td>
</tr>
<tr>
<td style="text-align:center">0 free</td>
<td style="text-align:center">交换区空闲量</td>
</tr>
<tr>
<td style="text-align:center">0 used</td>
<td style="text-align:center">交换区使用量</td>
</tr>
</tbody>
</table>
<blockquote>
<p>swap分区</p>
</blockquote>
<hr>
<h3 id="第六行">第六行<a hidden class="anchor" aria-hidden="true" href="#第六行">#</a></h3>
<table>
<thead>
<tr>
<th style="text-align:center">字符</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">PID</td>
<td style="text-align:center">进程号</td>
</tr>
<tr>
<td style="text-align:center">USER</td>
<td style="text-align:center">进程创建者</td>
</tr>
<tr>
<td style="text-align:center">PR</td>
<td style="text-align:center">进程优先级</td>
</tr>
<tr>
<td style="text-align:center">NI</td>
<td style="text-align:center">nice值。越小优先级越高，最小-20，最大20（用户设置最大19）</td>
</tr>
<tr>
<td style="text-align:center">VIRT</td>
<td style="text-align:center">进程使用的虚拟内存总量，单位kb。VIRT=SWAP+RES</td>
</tr>
<tr>
<td style="text-align:center">RES</td>
<td style="text-align:center">进程使用的、未被换出的物理内存大小，单位kb。RES=CODE+DATA</td>
</tr>
<tr>
<td style="text-align:center">SHR</td>
<td style="text-align:center">共享内存大小，单位kb</td>
</tr>
<tr>
<td style="text-align:center">S</td>
<td style="text-align:center">进程状态。D=不可中断的睡眠状态 R=运行 S=睡眠 T=跟踪/停止 Z=僵尸进程</td>
</tr>
<tr>
<td style="text-align:center">%CPU</td>
<td style="text-align:center">进程占用cpu百分比</td>
</tr>
<tr>
<td style="text-align:center">%MEM</td>
<td style="text-align:center">进程占用内存百分比</td>
</tr>
<tr>
<td style="text-align:center">TIME+</td>
<td style="text-align:center">进程运行时间</td>
</tr>
<tr>
<td style="text-align:center">COMMAND</td>
<td style="text-align:center">进程名称</td>
</tr>
</tbody>
</table>
<blockquote>
<p>PR 越低优先级 越高，PRI(new)=PRI(old)+nice
PR中的rt为实时进程优先级即rt_priority，prio=MAX_RT_PRIO - 1- p-&gt;rt_priority
MAX_RT_PRIO = 99，prio大小决定最终优先级。这样意味着rt_priority值越大，优先级越高而内核提供的修改优先级的函数，是修改rt_priority的值，所以越大，优先级越高。
例：改变优先级：进入weight后按“r”–&gt;输入进程PID–&gt;输入nice值</p>
</blockquote>
<h3 id="weight命令在进入weight后使用">weight命令（在进入weight后使用）<a hidden class="anchor" aria-hidden="true" href="#weight命令在进入weight后使用">#</a></h3>
<blockquote>
<p>P：以占据CPU百分比排序
M：以占据内存百分比排序
T：以累积占用CPU时间排序
q：退出命令：按q键退出weight查看页面
s：修改刷新时间间隔。按下s键，然后按下数字，即可修改刷新时间间隔为你输入的数字，单位为秒。例如：按下s键，在按数字1键，即可实现每秒刷新一次
k：终止指定的进程。按下k键&ndash;&gt;再输入要杀死的进程的pid&ndash;&gt;按enter键&ndash;&gt;(选择信号类型，以数字标示，默认15为杀死)本步可省略按enter键（常用为-9）</p>
</blockquote>
<h2 id="free命令">free命令<a hidden class="anchor" aria-hidden="true" href="#free命令">#</a></h2>
<ul>
<li><code>free</code></li>
<li><code>free -m</code></li>
<li><code>free -h</code></li>
</ul>
<p><img loading="lazy" src="https://raw.githubusercontent.com/Lucareful/ImgRepo/master/img/hexo_img/image-20200502171251931.png" alt=""  />
</p>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/linux%E7%9F%A5%E8%AF%86/">Linux知识</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="http://localhost:1313/">Luenci</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
